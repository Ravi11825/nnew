<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Grid Cell</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Custom styles to create a vertical half-page layout */
        .container-fluid {
            height: 100vh;
            /* Full viewport height */
            display: flex;
            flex-direction: row;
            /* Row direction to split horizontally */
        }

        .dropdown-container {
            width: 50%;
            /* Take up half of the width */
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
            padding: 20px;
        }

        .grid-container-wrapper {
            width: 50%;
            /* Take up the other half of the width */
            overflow-y: auto;
            padding: 20px;
        }

        .grid-container {
            display: grid;
            gap: 5px;
            /* Space between cells */
        }

        .grid-item {
            display: flex;
            flex-direction: column;
            /* Stack content vertically */
            justify-content: space-between;
            /* Space between content and error message */
            align-items: center;
            background-color: #f1f1f1;
            border: 1px solid #ddd;
            font-size: 14px;
            color: #333;
            font-weight: bold;
            height: auto;
            /* Height is dynamically calculated based on content */
            position: relative;
            overflow: hidden;
            cursor: pointer;
            padding-bottom: 30px;
            /* Space for the error message */
        }

        .error-message-container {
            position: absolute;
            bottom: 0;
            background-color: gray;
            width: 100%;
            color: white;
            padding: 0px;
            display: flex;
            overflow-x: hidden;
            /* Hide overflow */
        }

        .error-message {
            padding: 0 10px;
            white-space: nowrap;
            transform: translateX(100%);
            /* Start offscreen */
            opacity: 0;
            animation: slideIn 12s ease-in-out forwards;
        }

        @keyframes slideIn {
            0% {
                transform: translateX(100%);
                /* Start offscreen */
                opacity: 0;
            }

            50% {
                transform: translateX(0);
                /* Slide to the center */
                opacity: 1;
            }

            100% {
                transform: translateX(-100%);
                /* Slide completely out of view */
                opacity: 0;
            }
        }

        /* Blinking effect */
        @keyframes blink {
            0% {
                background-color: rgba(255, 0, 0, 0.8);
            }

            50% {
                background-color: rgba(255, 0, 0, 0.5);
            }

            100% {
                background-color: rgba(255, 0, 0, 0.8);
            }
        }

        .blink {
            animation: blink 0.5s linear infinite;
        }
    </style>
</head>

<body>

    <div class="container-fluid">
        <div class="grid-container-wrapper">
            <div class="grid-container" id="gridContainer">
                <!-- The grid will be generated dynamically here -->
            </div>
        </div>
        <div class="dropdown-container">
            <div>
                <!-- Form with dropdown and OK button -->
                <form id="gridForm">
                    <div class="mb-3">
                        <label for="gridGroup" class="form-label">Select Group</label>
                        <select class="form-select" id="gridGroup">
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="gridScreen" class="form-label">Select Screen</label>
                        <select class="form-select" id="gridScreen">
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="gridSize" class="form-label">Select Number of Cells</label>
                        <select class="form-select" id="gridSize">
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">OK</button>
                </form>
            </div>
        </div>

    </div>
    <script id="data-json" type="application/json">
        [
        { "Name": "Sensor1", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor2", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor3", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor4", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor5", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor6", "Status": "Error", "Error": "Connection Timeout,Sensor Calibration Failed" },
        { "Name": "Sensor7", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor8", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor9", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor10", "Status": "Error", "Error": "Battery Low,Signal Interference,Data Corruption" },
        { "Name": "Sensor11", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor12", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor13", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor14", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor15", "Status": "Error", "Error": "Overheating,Data Timeout,System Crash,Connection Error" },
        { "Name": "Sensor16", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor17", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor18", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor19", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor20", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor21", "Status": "Error", "Error": "Connection Error,Signal Loss" },
        { "Name": "Sensor22", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor23", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor24", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor25", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor26", "Status": "Error", "Error": "Calibration Failure,Network Unavailable,Sensor Disconnect" },
        { "Name": "Sensor27", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor28", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor29", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor30", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor31", "Status": "Error", "Error": "Data Corruption,Signal Interruption,Temperature Sensor Malfunction" },
        { "Name": "Sensor32", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor33", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor34", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor35", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor36", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor37", "Status": "Error", "Error": "Power Supply Issue,Temperature Out of Range" },
        { "Name": "Sensor38", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor39", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor40", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor41", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor42", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor43", "Status": "Error", "Error": "Signal Loss,Memory Overflow" },
        { "Name": "Sensor44", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor45", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor46", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor47", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor48", "Status": "Error", "Error": "Calibration Failure,Network Unavailable" },
        { "Name": "Sensor49", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor50", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor51", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor52", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor53", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor54", "Status": "Error", "Error": "Low Voltage,Signal Outage" },
        { "Name": "Sensor55", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor56", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor57", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor58", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor59", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor60", "Status": "Error", "Error": "Signal Interruption,Memory Leak" },
        { "Name": "Sensor61", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor62", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor63", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor64", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor65", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor66", "Status": "Error", "Error": "Software Glitch,Sensor Communication Failure,Overheating,Memory Corruption" },
        { "Name": "Sensor67", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor68", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor69", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor70", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor71", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor72", "Status": "Error", "Error": "Network Error,Temperature Out of Range" },
        { "Name": "Sensor73", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor74", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor75", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor76", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor77", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor78", "Status": "Error", "Error": "Corrupted Data,Signal Outage" },
        { "Name": "Sensor79", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor80", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor81", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor82", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor83", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor84", "Status": "Error", "Error": "System Crash,Memory Corruption" },
        { "Name": "Sensor85", "Status": "Error", "Error": "System Overload,Temperature Sensor Malfunction,Signal Loss" },
        { "Name": "Sensor86", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor87", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor88", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor89", "Status": "Error", "Error": "Signal Failure,Sensor Communication Timeout" },
        { "Name": "Sensor90", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor91", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor92", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor93", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor94", "Status": "Error", "Error": "Sensor Disconnect,Power Failure,Signal Instability" },
        { "Name": "Sensor95", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor96", "Status": "Error", "Error": "Data Inconsistency,Network Latency" },
        { "Name": "Sensor97", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor98", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor99", "Status": "Error", "Error": "Data Corruption,Temperature Sensor Error" },
        { "Name": "Sensor100", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor1", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor2", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor3", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor4", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor5", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor6", "Status": "Error", "Error": "Connection Timeout,Sensor Calibration Failed" },
        { "Name": "Sensor7", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor8", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor9", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor10", "Status": "Error", "Error": "Battery Low,Signal Interference,Data Corruption" },
        { "Name": "Sensor11", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor12", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor13", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor14", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor15", "Status": "Error", "Error": "Overheating,Data Timeout,System Crash,Connection Error" },
        { "Name": "Sensor16", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor17", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor18", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor19", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor20", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor21", "Status": "Error", "Error": "Connection Error,Signal Loss" },
        { "Name": "Sensor22", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor23", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor24", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor25", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor26", "Status": "Error", "Error": "Calibration Failure,Network Unavailable,Sensor Disconnect" },
        { "Name": "Sensor27", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor28", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor29", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor30", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor31", "Status": "Error", "Error": "Data Corruption,Signal Interruption,Temperature Sensor Malfunction" },
        { "Name": "Sensor32", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor33", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor34", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor35", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor36", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor37", "Status": "Error", "Error": "Power Supply Issue,Temperature Out of Range" },
        { "Name": "Sensor38", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor39", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor40", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor41", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor42", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor43", "Status": "Error", "Error": "Signal Loss,Memory Overflow" },
        { "Name": "Sensor44", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor45", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor46", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor47", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor48", "Status": "Error", "Error": "Calibration Failure,Network Unavailable" },
        { "Name": "Sensor49", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor50", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor51", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor52", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor53", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor54", "Status": "Error", "Error": "Low Voltage,Signal Outage" },
        { "Name": "Sensor55", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor56", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor57", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor58", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor59", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor60", "Status": "Error", "Error": "Signal Interruption,Memory Leak" },
        { "Name": "Sensor61", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor62", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor63", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor64", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor65", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor66", "Status": "Error", "Error": "Software Glitch,Sensor Communication Failure,Overheating,Memory Corruption" },
        { "Name": "Sensor67", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor68", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor69", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor70", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor71", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor72", "Status": "Error", "Error": "Network Error,Temperature Out of Range" },
        { "Name": "Sensor73", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor74", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor75", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor76", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor77", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor78", "Status": "Error", "Error": "Corrupted Data,Signal Outage" },
        { "Name": "Sensor79", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor80", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor81", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor82", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor83", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor84", "Status": "Error", "Error": "System Crash,Memory Corruption" },
        { "Name": "Sensor85", "Status": "Error", "Error": "System Overload,Temperature Sensor Malfunction,Signal Loss" },
        { "Name": "Sensor86", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor87", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor88", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor89", "Status": "Error", "Error": "Signal Failure,Sensor Communication Timeout" },
        { "Name": "Sensor90", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor91", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor92", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor93", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor94", "Status": "Error", "Error": "Sensor Disconnect,Power Failure,Signal Instability" },
        { "Name": "Sensor95", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor96", "Status": "Error", "Error": "Data Inconsistency,Network Latency" },
        { "Name": "Sensor97", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor98", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor99", "Status": "Error", "Error": "Data Corruption,Temperature Sensor Error" },
        { "Name": "Sensor1", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor2", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor3", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor4", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor5", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor6", "Status": "Error", "Error": "Connection Timeout,Sensor Calibration Failed" },
        { "Name": "Sensor7", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor8", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor9", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor10", "Status": "Error", "Error": "Battery Low,Signal Interference,Data Corruption" },
        { "Name": "Sensor11", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor12", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor13", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor14", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor15", "Status": "Error", "Error": "Overheating,Data Timeout,System Crash,Connection Error" },
        { "Name": "Sensor16", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor17", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor18", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor19", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor20", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor21", "Status": "Error", "Error": "Connection Error,Signal Loss" },
        { "Name": "Sensor22", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor23", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor24", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor25", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor26", "Status": "Error", "Error": "Calibration Failure,Network Unavailable,Sensor Disconnect" },
        { "Name": "Sensor27", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor28", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor29", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor30", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor31", "Status": "Error", "Error": "Data Corruption,Signal Interruption,Temperature Sensor Malfunction" },
        { "Name": "Sensor32", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor33", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor34", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor35", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor36", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor37", "Status": "Error", "Error": "Power Supply Issue,Temperature Out of Range" },
        { "Name": "Sensor38", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor39", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor40", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor41", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor42", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor43", "Status": "Error", "Error": "Signal Loss,Memory Overflow" },
        { "Name": "Sensor44", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor45", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor46", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor47", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor48", "Status": "Error", "Error": "Calibration Failure,Network Unavailable" },
        { "Name": "Sensor49", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor50", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor51", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor52", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor53", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor54", "Status": "Error", "Error": "Low Voltage,Signal Outage" },
        { "Name": "Sensor55", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor56", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor57", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor58", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor59", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor60", "Status": "Error", "Error": "Signal Interruption,Memory Leak" },
        { "Name": "Sensor61", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor62", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor63", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor64", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor65", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor66", "Status": "Error", "Error": "Software Glitch,Sensor Communication Failure,Overheating,Memory Corruption" },
        { "Name": "Sensor67", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor68", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor69", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor70", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor71", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor72", "Status": "Error", "Error": "Network Error,Temperature Out of Range" },
        { "Name": "Sensor73", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor74", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor75", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor76", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor77", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor78", "Status": "Error", "Error": "Corrupted Data,Signal Outage" },
        { "Name": "Sensor79", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor80", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor81", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor82", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor83", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor84", "Status": "Error", "Error": "System Crash,Memory Corruption" },
        { "Name": "Sensor85", "Status": "Error", "Error": "System Overload,Temperature Sensor Malfunction,Signal Loss" },
        { "Name": "Sensor86", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor87", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor88", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor89", "Status": "Error", "Error": "Signal Failure,Sensor Communication Timeout" },
        { "Name": "Sensor90", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor91", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor92", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor93", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor94", "Status": "Error", "Error": "Sensor Disconnect,Power Failure,Signal Instability" },
        { "Name": "Sensor95", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor96", "Status": "Error", "Error": "Data Inconsistency,Network Latency" },
        { "Name": "Sensor97", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor98", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor99", "Status": "Error", "Error": "Data Corruption,Temperature Sensor Error" },
        { "Name": "Sensor100", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor1", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor2", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor3", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor4", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor5", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor6", "Status": "Error", "Error": "Connection Timeout,Sensor Calibration Failed" },
        { "Name": "Sensor7", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor8", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor9", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor10", "Status": "Error", "Error": "Battery Low,Signal Interference,Data Corruption" },
        { "Name": "Sensor11", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor12", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor13", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor14", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor15", "Status": "Error", "Error": "Overheating,Data Timeout,System Crash,Connection Error" },
        { "Name": "Sensor16", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor17", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor18", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor19", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor20", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor21", "Status": "Error", "Error": "Connection Error,Signal Loss" },
        { "Name": "Sensor22", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor23", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor24", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor25", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor26", "Status": "Error", "Error": "Calibration Failure,Network Unavailable,Sensor Disconnect" },
        { "Name": "Sensor27", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor28", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor29", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor30", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor31", "Status": "Error", "Error": "Data Corruption,Signal Interruption,Temperature Sensor Malfunction" },
        { "Name": "Sensor32", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor33", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor34", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor35", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor36", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor37", "Status": "Error", "Error": "Power Supply Issue,Temperature Out of Range" },
        { "Name": "Sensor38", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor39", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor40", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor1", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor2", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor3", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor4", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor5", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor6", "Status": "Error", "Error": "Connection Timeout,Sensor Calibration Failed" },
        { "Name": "Sensor7", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor8", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor9", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor10", "Status": "Error", "Error": "Battery Low,Signal Interference,Data Corruption" },
        { "Name": "Sensor11", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor12", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor13", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor14", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor15", "Status": "Error", "Error": "Overheating,Data Timeout,System Crash,Connection Error" },
        { "Name": "Sensor16", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor17", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor18", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor19", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor20", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor21", "Status": "Error", "Error": "Connection Error,Signal Loss" },
        { "Name": "Sensor22", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor23", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor24", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor25", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor26", "Status": "Error", "Error": "Calibration Failure,Network Unavailable,Sensor Disconnect" },
        { "Name": "Sensor27", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor28", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor29", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor30", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor31", "Status": "Error", "Error": "Data Corruption,Signal Interruption,Temperature Sensor Malfunction" },
        { "Name": "Sensor32", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor33", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor34", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor35", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor36", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor37", "Status": "Error", "Error": "Power Supply Issue,Temperature Out of Range" },
        { "Name": "Sensor38", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor39", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor40", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor41", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor42", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor43", "Status": "Error", "Error": "Signal Loss,Memory Overflow" },
        { "Name": "Sensor44", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor45", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor46", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor47", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor48", "Status": "Error", "Error": "Calibration Failure,Network Unavailable" },
        { "Name": "Sensor49", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor50", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor1", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor2", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor3", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor4", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor5", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor6", "Status": "Error", "Error": "Connection Timeout,Sensor Calibration Failed" },
        { "Name": "Sensor7", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor8", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor9", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor10", "Status": "Error", "Error": "Battery Low,Signal Interference,Data Corruption" },
        { "Name": "Sensor11", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor12", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor13", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor14", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor15", "Status": "Error", "Error": "Overheating,Data Timeout,System Crash,Connection Error" },
        { "Name": "Sensor16", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor17", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor18", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor19", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor20", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor21", "Status": "Error", "Error": "Connection Error,Signal Loss" },
        { "Name": "Sensor22", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor23", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor24", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor25", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor26", "Status": "Error", "Error": "Calibration Failure,Network Unavailable,Sensor Disconnect" },
        { "Name": "Sensor27", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor28", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor29", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor30", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor31", "Status": "Error", "Error": "Data Corruption,Signal Interruption,Temperature Sensor Malfunction" },
        { "Name": "Sensor32", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor33", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor34", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor35", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor36", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor37", "Status": "Error", "Error": "Power Supply Issue,Temperature Out of Range" },
        { "Name": "Sensor38", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor39", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor40", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor41", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor42", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor43", "Status": "Error", "Error": "Signal Loss,Memory Overflow" },
        { "Name": "Sensor44", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor45", "Status": "Unhealthy", "Error": "" },
        { "Name": "Sensor46", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor47", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor48", "Status": "Error", "Error": "Calibration Failure,Network Unavailable" },
        { "Name": "Sensor49", "Status": "Healthy", "Error": "" },
        { "Name": "Sensor50", "Status": "Healthy", "Error": "" }
        ]
    </script>
    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {
            let isFullscreen = false; // Flag to track if the page is in full-screen mode
            $("#gridSize").empty().append('<option value="">Select Size</option>');
            bindGridGroupDropdown();

            // Function to fetch the JSON file and read the data
            function fetchJsonData() {
                const jsonData = $("#data-json").html();
                return JSON.parse(jsonData);
            }

            $("#gridForm").submit(function (e) {
                e.preventDefault(); // Prevent the form from submitting

                const cellCount = parseInt($("#gridSize").val());

                if (!cellCount || isNaN(cellCount)) {
                    alert("Please select all dropdowns before proceeding.");
                    return;
                }

                // Request full-screen mode for the document
                const docEl = document.documentElement;
                if (docEl.requestFullscreen) {
                    docEl.requestFullscreen();
                } else if (docEl.mozRequestFullScreen) { // For Firefox
                    docEl.mozRequestFullScreen();
                } else if (docEl.webkitRequestFullscreen) { // For Chrome, Safari, and Opera
                    docEl.webkitRequestFullscreen();
                } else if (docEl.msRequestFullscreen) { // For IE/Edge
                    docEl.msRequestFullscreen();
                }

                // Hide the dropdown-container
                $(".dropdown-container").hide();

                // Make the grid-container-wrapper full screen
                $(".grid-container-wrapper").css("width", "100%");

                // Mark the page as full-screen
                isFullscreen = true;

                // Create the grid with the selected number of cells
                createGrid(cellCount);
            });

            // Create Grid
            async function createGrid(cellCount) {
                const $gridContainer = $("#gridContainer");
                $gridContainer.empty(); // Clear existing grid

                // Fetch the data from the JSON file
                const cellData = await fetchJsonData();

                // Ensure the cell count does not exceed 50
                cellCount = Math.min(cellCount, 50);

                // Dynamically calculate grid layout based on the selected cell count
                const columns = Math.min(cellCount, 5); // Max 5 columns per row
                const rows = Math.ceil(cellCount / columns); // Calculate number of rows

                // Dynamically set the grid layout
                const gridTemplateColumns = `repeat(${columns}, 1fr)`; // Flexibility in columns
                $gridContainer.css("gridTemplateColumns", gridTemplateColumns);

                // Calculate dynamic cell height based on the number of rows
                const screenHeight = $(window).height();
                const cellHeight = (screenHeight - 100) / rows; // Subtracting 100 for padding and header

                // Generate cells based on the selected number
                for (let i = 0; i < cellCount; i++) {
                    const cellInfo = cellData[i]; // Get corresponding data for this cell
                    const $cell = $("<div>").addClass("grid-item").css("height", `${cellHeight}px`);

                    $cell.text(cellInfo.Name); // Cell content

                    // Apply color based on status
                    switch (cellInfo.Status) {
                        case 'Healthy':
                            $cell.css("backgroundColor", "green");
                            break;
                        case 'Unhealthy':
                            $cell.css("backgroundColor", "red");
                            break;
                        case 'Error':
                            $cell.css("backgroundColor", "gray");

                            const $errorMessageContainer = $("<div>").addClass("error-message-container");
                            const errorMessages = cellInfo.Error.split(','); // Assuming error messages are comma-separated

                            errorMessages.forEach((msg, index) => {
                                const $errorMessage = $("<div>")
                                    .addClass("error-message")
                                    .text(msg.trim())
                                    .css("animationDelay", `${index * 12}s`); // Add staggered animation delay

                                $errorMessageContainer.append($errorMessage);
                            });
                            $cell.append($errorMessageContainer);
                            break;
                    }

                    // Add click event for beep sound and blinking effect (only if fullscreen)
                    $cell.click(function () {
                        if (!isFullscreen) return; // Prevent click functionality if not in full-screen mode

                        // Check if the cell is not already blinking
                        if (!$(this).hasClass("blink")) {
                            // Play beep sound when the cell starts blinking
                            const beepSound = new Audio('beep-sound.mp3');  // Replace with your beep sound file
                            beepSound.play();

                            // Start blinking
                            $(this).addClass("blink");
                        } else {
                            // Stop blinking if the cell is already blinking
                            $(this).removeClass("blink");
                        }
                    });

                    $gridContainer.append($cell);
                }
            }

            // Event listeners
            $("#gridSize").change(function () {
                const cellCount = parseInt($(this).val());
                createGrid(cellCount); // Create grid with the selected number of cells
            });

            $("#gridGroup").change(function () {
                const selectedGroup = parseInt($(this).val());
                updateGridScreenDropdown(selectedGroup);
            });

            $("#gridScreen").change(function () {
                const selectedGroup = parseInt($("#gridGroup").val());
                const selectedScreen = parseInt($(this).val());
                updateGridSizeDropdown(selectedGroup, selectedScreen);
            });

            // Bind Grid Group Dropdown
            async function bindGridGroupDropdown() {
                const $gridGroupSelect = $("#gridGroup");
                const data = await fetchJsonData(); // Fetch data from the JSON file

                // Calculate the number of groups based on data length divided by 150 (items per group)
                const totalGroups = Math.ceil(data.length / 150);

                // Generate group numbers dynamically
                const groups = Array.from({ length: totalGroups }, (_, i) => (i + 1).toString());

                // Clear existing options and add "Select Option" default option
                $gridGroupSelect.empty().append('<option value="">Select Group</option>');

                // Add options for each group dynamically
                groups.forEach(group => {
                    $gridGroupSelect.append(`<option value="${group}">${group}</option>`);
                });

                // Optionally set the first group as selected (default selection)
                if (groups.length > 0) {
                    $gridGroupSelect.val("1").trigger('change'); // Ensure default is "Select Group"
                }
            }

            // Update Grid Screen Dropdown based on selected group
            async function updateGridScreenDropdown(selectedGroup) {
                const $gridScreenSelect = $("#gridScreen");
                const data = await fetchJsonData(); // Fetch data from the JSON file

                // Calculate start and end indices for the selected group
                const startIndex = (selectedGroup - 1) * 150; // Each group has 150 items
                const endIndex = Math.min(selectedGroup * 150, data.length); // Ensure we don't exceed the data length

                // Count of items in the selected group
                const groupDataCount = endIndex - startIndex;

                // Calculate the number of screens based on group data count divided by 50 (items per screen)
                const totalScreens = Math.ceil(groupDataCount / 50); // Each screen can have 50 items

                // Generate screen numbers dynamically
                const screens = Array.from({ length: totalScreens }, (_, i) => (i + 1).toString());

                // Clear existing options and add "Select Option" default option
                $gridScreenSelect.empty().append('<option value="">Select Screen</option>');

                // Add options for each screen dynamically
                screens.forEach(screen => {
                    $gridScreenSelect.append(`<option value="${screen}">${screen}</option>`);
                });

                // Optionally set the first screen as selected (default selection)
                if (screens.length > 0) {
                    $gridScreenSelect.val("1").trigger('change'); // Ensure default is "Select Screen"
                }
            }
            // Update Grid Size Dropdown based on selected group and screen
            async function updateGridSizeDropdown(selectedGroup, selectedScreen) {
                const $gridSizeSelect = $("#gridSize");
                const data = await fetchJsonData(); // Fetch data from the JSON file

                // Calculate start and end indices for the selected group
                const startIndex = (selectedGroup - 1) * 150; // Each group has 150 items
                const endIndex = Math.min(selectedGroup * 150, data.length); // Ensure we don't exceed the data length

                // Calculate data specific to the selected screen
                const groupData = data.slice(startIndex, endIndex);
                const screenStartIndex = (selectedScreen - 1) * 50; // Each screen has 50 items
                const screenEndIndex = Math.min(selectedScreen * 50, groupData.length); // Ensure we don't exceed the screen data length

                // Count of items in the selected screen
                const screenDataCount = screenEndIndex - screenStartIndex;

                // Clear the existing options in the dropdown
                $gridSizeSelect.empty();

                // Add the default "Select Option" first
                $gridSizeSelect.append('<option value="">Select Option</option>');

                // Add options for grid sizes dynamically
                for (let i = 1; i <= screenDataCount; i++) {
                    if (i % 2 === 0) { // Only add even numbers for grid size
                        $gridSizeSelect.append(`<option value="${i}">1 - ${i}</option>`);
                    }
                }

                // Optionally set the first option as selected (default selection)
                if ($gridSizeSelect.children().length > 1) { // Check if options other than "Select Option" exist
                    $gridSizeSelect.val("50").trigger('change'); // Ensure default is "Select Size"
                }
            }


        });

    </script>

</body>

</html>